# 線形と非線形のカテゴリー変数

さて、ダミー変数セットの作成と使用の仕組みを理解したところで、なぜそれが変数なのかについて時間をかけて議論してみましょう。このビデオを終える頃には、あるカテゴリー変数が、その変数についての理論的な理解に基づいて、回帰モデルに線形または非線形に入力されるべきかどうかを判断できるようになっているはずです。

カテゴリー変数は、線形変数として扱うことも、ダミー変数に分割して非線形変数として扱うこともできます。ここでは、学歴を例に説明します。学歴をコード化する一つの方法は、高卒未満、高卒、大卒、大学院卒の4つのカテゴリーを持つ変数を作成することです。これらのカテゴリーにそれぞれ値を割り当てて、この変数を回帰モデルに含めることができます。例えば、「高校卒業未満」には「0」、「高校卒業」には「1」などの値を割り当てることができます。また、カテゴリー変数をダミーに分割することもできます。データセットには4つのダミーがあり、データセットの各オブザベーションに対して、4つのうちの1つを1の値に設定します。このスライドは、より大きなデータセットからの8つのオブザベーションの表を示しています。各行は学生です。

教育達成度変数には、教育の各レベルに割り当てられた値が含まれています。例えば、生徒番号4の値は2で、この生徒は大卒であることがわかります。次の4列は、学歴をダミー変数のセットとして含んでいます。このビデオの残りの部分では、教育達成度をコード化するこれら2つの異なる方法が、回帰モデルの結果にどのように影響するかを見ていきます。ここでは、ある人が学校を卒業した翌年の収入に対する学歴の効果を調べることに興味があるとします。

このスライドでは、2つの推定回帰モデルを示しています。どちらも被説明変数は同じで、収入を千ドル単位で表しています。モデル1では、教育達成度は線形項としてモデルに入力され、その係数は12.7です。モデル2では、高卒未満をベースラインとするダミーのセットとして教育達成度をモデルに入力しています。単純なモデルの場合、サンプル回帰関数を書き出すのは良いことですが、独立変数の数が増えると、これを行うのは難しくなります。

このスライドでは、回帰結果を論文や報告書でよく見られるように表示しています。表にはタイトルがあり、下部には従属変数を示すメモがあります。独立変数は最初の列に表示されています。2列目には1つ目のモデルの回帰結果、3列目には2つ目のモデルの回帰結果が記載されています。データセットの最後の行には、各モデルの推定に使用されたオブザベーションの数が記載されています。特定のモデルに含まれていない変数については、セルが空白になっていることに注意してください。モデル1では、ダミーが含まれておらず、モデル2では、Educational attainmentの線形バージョンが含まれていません。

それでは、結果の解釈をしていきましょう。解釈を容易にするために、結果をスライドの上部に表示しました。まず、高卒未満から高卒への移行が期待収入に与える影響の推定値について、各モデルがどのように比較されるかを考えてみましょう。期待される収入の変化を計算する必要があることに注意してください。各モデルとも、高卒未満の人の期待収入を計算し、それを高卒の人の期待収入から差し引く必要があります。モデル1では、この期待される収入の変化は、（26.7 + 12.7 * 1）-（26.7 + 12.7 * 0）となり、期待される収入が12.7千ドル増加します。つまり、モデル1では、高校卒業資格がない状態から、高校卒業資格を持つ状態になることで、予想される収入が12.7千ドル増加することになります。

モデル2では、この予想される収入の変化は、（24.9 + 10.1 * 1）-（24.9）となり、予想される収入は10.1ドル増加します。つまり、モデル2によれば、高校卒業資格がない状態から高校卒業資格を持つ状態になることで、予測年収が1万1千ドル増加することになる。次に、高卒から大卒になった人の推定効果を計算してみましょう。モデル1では、期待される収入の増加額は再び12.7万ドル。モデル2では、期待される収入の増加は19.1万ドルです。ビデオを一時停止して、これらの計算方法をご覧ください。

モデル1では、Education attainment変数の適切な値を入力しました。また、モデル2では、適切なダミーを1または0にしています。この結果は驚くべきものではありません。モデル1では、Educational attainmentが一定の線形効果を持つように制約しています。高卒未満から高卒になっても、高卒から大卒になっても、1単位の変化の効果は結果変数に同じ効果を与えることになります。モデル2では、このような一定または線形効果の仮定はしません。学歴のカテゴリーごとにダミー変数を作成することで、学歴の効果がカテゴリーごとに異なるようにしています。

モデル2では、高卒から大卒への移行よりも、高卒から高卒への移行の方が、収入の変化が小さくなっています。先ほどの回帰結果を考えてみると、どちらのモデルがより限定的でしょうか？モデル1とモデル2のどちらでしょうか？答えはモデル1です。モデル1では、教育達成度を線形独立変数として扱い、値が増加するたびに、結果変数の期待される変化が同じになるようにしています。一方、モデル2では、ダミーによって柔軟性が加えられています。

これにより、異なるレベルの教育を受けることによる推定効果を変化させることができます。独立変数の効果が、その変数のすべての値に対して一貫していることを研究者が疑う十分な理由があれば、その変数を線形に扱うことは全く問題ありません。一方、研究者が、その変数の効果がその値によって変化すると考える十分な理由がある場合は、ダミーのセットを作成する方が理にかなっています。このビデオは、このコースのテーマを強調しています。回帰分析には、多くの判断と意思決定が必要です。
